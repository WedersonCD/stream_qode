<html>

<head>

    <title>Stream Qode</title>

	<script src="../../resources/assets/external/requirejs/require.js"></script>
    <script src='./js/utils.js'></script>

    <script src='./js/qlik.js'></script>
    <script src='./js/block.js'></script>
    
    <link rel="stylesheet" href="./css/style.css">
    <link rel="stylesheet" href="./css/block.css">
    
    <script src='./js/libs/_hyperscript.min.js'></script>
    
</head>

<body>
    <div class="outfocus display-none popup" _="
        on click
             toggle .display-none on .popup end
        ">

    </div>
    <div class="select-template display-none popup">
            <h4>Code Templates</h4>
            <ul class="select-template-list clean-on-close"></ul>
    </div>
    <section class="header">
        <div class="header-addBlock pointer">
            <button _="on click js BLOCKS.render_new_block_code() end then" class="header-addBlock-add pointer">+</button>
            â†“
        </div>
        <div class="header-logo">
            Stream Qode
        </div>
        <div class="header-appSelecion">
            <label class="header-appSelecion-label" for="header-appSelecion-select">App:</label>
            <select class="header-appSelecion-select" _="
            init fetch ./template_apps.json as json then
                for app in result
                    make an <option/> then                        
                        put app.name into it
                        put it at end of me
                end
            ">
            </select>
        </div>
        <div  class="header-run">
            <div class="header-run-icon">
                <img _="on click js QLIK.run_code() end then" class="header-run-play-icon pointer" src="./assets/icons/run.svg" />
                <img class="header-run-loading-icon rotate display-none" src="./assets/icons/loading.svg" />
            </div>
        </div>
        <div _="on click js QLIK.open_app_link() end then" class="header-openApp pointer">
            <img class="header-openApp-open-icon" src="./assets/icons/open.svg" />
        </div>
    </section>
    <section class="content">
        <section class="content-blockSetup">
        </section>
        <section class="content-blockView">
        </section>

    </section>

    <!--libs-->
    <script src='./js/libs/plain-draggable.min.js'></script>
    <script src='./js/libs/leader-line.min.js'></script>
    <script src='./js/libs/ace.js'></script>
    <script>
        //remove Qlik CSS
        new Promise(r => setTimeout(()=>document.querySelector("head > link:nth-child(19)").remove(), 500));
        
    </script>
</body>

</html>